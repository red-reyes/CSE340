<div class="account-container">
    <% if (title) { %>
        <h1><%= title %></h1>
        <% } else {res.redirect('/') } %>
        
        <%- messages() %>
        
        <% if (errors) { %>
            <ul class="notice">
                <% errors.array().forEach(error => { %>
                    <li><%= error.msg %></li>
                <% }) %>
            </ul>
        <% } %>
        
        <% if (typeof flashMessage !== 'undefined') { %>
            <div class="flash-message"><%= flashMessage %></div>
        <% } %>
    <form action="account/register" method="POST">
        <div class="form-group">
            <label for="account_firstName">First Name: <span style="color: red;">*</span></label>
            <input type="text" id="account_firstName" name="account_firstName" required value="<%= locals.account_firstName %>">
        </div>
        <div class="form-group">
            <label for="account_lastName">Last Name: <span style="color: red;">*</span></label>
            <input type="text" id="account_lastName" name="account_lastName" required value="<%= locals.account_lastName %>">
        </div>
        <div class="form-group">
            <label for="account_email">Email Address: <span style="color: red;">*</span></label>
            <input type="email" id="account_email" name="account_email" required value="<%= locals.account_email%>">
        </div>
        <div class="form-group">
            <label for="account_password">Password: <span style="color: red;">*</span></label>
            <input type="password" id="account_password" name="account_password" required minlength="12" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*\W)">
            <p>Passwords must be minimum of 12 characters and include 1 capital letter, 1 number and 1 special character.</p>
            <button type="button" onclick="togglePassword()">Show/Hide Password</button>
        </div>
        <button type="submit" style="text-align: center;">Register</button>
    </form>
</div>

<script>
function togglePassword() {
    var passwordField = document.getElementById("account_password");
    if (passwordField.type === "password") {
        passwordField.type = "text";
    } else {
        passwordField.type = "password";
    }
}
</script>